{"ast":null,"code":"// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { AbstractPage } from \"./core.mjs\";\nexport class Page extends AbstractPage {\n  constructor(client, response, body, options) {\n    super(client, response, body, options);\n    this.data = body.data || [];\n    this.has_more = body.has_more || false;\n    this.first_id = body.first_id || null;\n    this.last_id = body.last_id || null;\n  }\n  getPaginatedItems() {\n    return this.data ?? [];\n  }\n  // @deprecated Please use `nextPageInfo()` instead\n  nextPageParams() {\n    const info = this.nextPageInfo();\n    if (!info) return null;\n    if ('params' in info) return info.params;\n    const params = Object.fromEntries(info.url.searchParams);\n    if (!Object.keys(params).length) return null;\n    return params;\n  }\n  nextPageInfo() {\n    if (this.options.query?.['before_id']) {\n      // in reverse\n      const firstId = this.first_id;\n      if (!firstId) {\n        return null;\n      }\n      return {\n        params: {\n          before_id: firstId\n        }\n      };\n    }\n    const cursor = this.last_id;\n    if (!cursor) {\n      return null;\n    }\n    return {\n      params: {\n        after_id: cursor\n      }\n    };\n  }\n}","map":{"version":3,"names":["AbstractPage","Page","constructor","client","response","body","options","data","has_more","first_id","last_id","getPaginatedItems","nextPageParams","info","nextPageInfo","params","Object","fromEntries","url","searchParams","keys","length","query","firstId","before_id","cursor","after_id"],"sources":["/home/user/srt-translator/node_modules/@anthropic-ai/sdk/src/pagination.ts"],"sourcesContent":["// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nimport { AbstractPage, Response, APIClient, FinalRequestOptions, PageInfo } from \"./core.js\";\n\nexport interface PageResponse<Item> {\n  data: Array<Item>;\n\n  has_more: boolean;\n\n  first_id: string | null;\n\n  last_id: string | null;\n}\n\nexport interface PageParams {\n  /**\n   * Number of items per page.\n   */\n  limit?: number;\n\n  before_id?: string;\n\n  after_id?: string;\n}\n\nexport class Page<Item> extends AbstractPage<Item> implements PageResponse<Item> {\n  data: Array<Item>;\n\n  has_more: boolean;\n\n  first_id: string | null;\n\n  last_id: string | null;\n\n  constructor(client: APIClient, response: Response, body: PageResponse<Item>, options: FinalRequestOptions) {\n    super(client, response, body, options);\n\n    this.data = body.data || [];\n    this.has_more = body.has_more || false;\n    this.first_id = body.first_id || null;\n    this.last_id = body.last_id || null;\n  }\n\n  getPaginatedItems(): Item[] {\n    return this.data ?? [];\n  }\n\n  // @deprecated Please use `nextPageInfo()` instead\n  nextPageParams(): Partial<PageParams> | null {\n    const info = this.nextPageInfo();\n    if (!info) return null;\n    if ('params' in info) return info.params;\n    const params = Object.fromEntries(info.url.searchParams);\n    if (!Object.keys(params).length) return null;\n    return params;\n  }\n\n  nextPageInfo(): PageInfo | null {\n    if ((this.options.query as Record<string, unknown>)?.['before_id']) {\n      // in reverse\n      const firstId = this.first_id;\n      if (!firstId) {\n        return null;\n      }\n\n      return {\n        params: {\n          before_id: firstId,\n        },\n      };\n    }\n\n    const cursor = this.last_id;\n    if (!cursor) {\n      return null;\n    }\n\n    return {\n      params: {\n        after_id: cursor,\n      },\n    };\n  }\n}\n"],"mappings":"AAAA;SAESA,YAAY,QAAsD;AAuB3E,OAAM,MAAOC,IAAW,SAAQD,YAAkB;EAShDE,YAAYC,MAAiB,EAAEC,QAAkB,EAAEC,IAAwB,EAAEC,OAA4B;IACvG,KAAK,CAACH,MAAM,EAAEC,QAAQ,EAAEC,IAAI,EAAEC,OAAO,CAAC;IAEtC,IAAI,CAACC,IAAI,GAAGF,IAAI,CAACE,IAAI,IAAI,EAAE;IAC3B,IAAI,CAACC,QAAQ,GAAGH,IAAI,CAACG,QAAQ,IAAI,KAAK;IACtC,IAAI,CAACC,QAAQ,GAAGJ,IAAI,CAACI,QAAQ,IAAI,IAAI;IACrC,IAAI,CAACC,OAAO,GAAGL,IAAI,CAACK,OAAO,IAAI,IAAI;EACrC;EAEAC,iBAAiBA,CAAA;IACf,OAAO,IAAI,CAACJ,IAAI,IAAI,EAAE;EACxB;EAEA;EACAK,cAAcA,CAAA;IACZ,MAAMC,IAAI,GAAG,IAAI,CAACC,YAAY,EAAE;IAChC,IAAI,CAACD,IAAI,EAAE,OAAO,IAAI;IACtB,IAAI,QAAQ,IAAIA,IAAI,EAAE,OAAOA,IAAI,CAACE,MAAM;IACxC,MAAMA,MAAM,GAAGC,MAAM,CAACC,WAAW,CAACJ,IAAI,CAACK,GAAG,CAACC,YAAY,CAAC;IACxD,IAAI,CAACH,MAAM,CAACI,IAAI,CAACL,MAAM,CAAC,CAACM,MAAM,EAAE,OAAO,IAAI;IAC5C,OAAON,MAAM;EACf;EAEAD,YAAYA,CAAA;IACV,IAAK,IAAI,CAACR,OAAO,CAACgB,KAAiC,GAAG,WAAW,CAAC,EAAE;MAClE;MACA,MAAMC,OAAO,GAAG,IAAI,CAACd,QAAQ;MAC7B,IAAI,CAACc,OAAO,EAAE;QACZ,OAAO,IAAI;;MAGb,OAAO;QACLR,MAAM,EAAE;UACNS,SAAS,EAAED;;OAEd;;IAGH,MAAME,MAAM,GAAG,IAAI,CAACf,OAAO;IAC3B,IAAI,CAACe,MAAM,EAAE;MACX,OAAO,IAAI;;IAGb,OAAO;MACLV,MAAM,EAAE;QACNW,QAAQ,EAAED;;KAEb;EACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}